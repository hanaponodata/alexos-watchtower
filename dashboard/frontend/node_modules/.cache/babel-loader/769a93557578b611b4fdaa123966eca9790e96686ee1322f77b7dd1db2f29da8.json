{"ast":null,"code":"import React,{createContext,useContext,useEffect,useRef,useState,useCallback}from'react';import toast from'react-hot-toast';import{jsx as _jsx}from\"react/jsx-runtime\";const WebSocketContext=/*#__PURE__*/createContext();export function WebSocketProvider(_ref){let{children}=_ref;const[isConnected,setIsConnected]=useState(false);const[isConnecting,setIsConnecting]=useState(false);const[connectionAttempts,setConnectionAttempts]=useState(0);const[metrics,setMetrics]=useState(null);const[events,setEvents]=useState([]);const[agents,setAgents]=useState([]);const wsRef=useRef(null);const reconnectTimeoutRef=useRef(null);const heartbeatIntervalRef=useRef(null);const maxReconnectAttempts=5;const reconnectDelay=2000;const connect=useCallback(()=>{if(isConnecting||isConnected)return;setIsConnecting(true);try{const protocol=window.location.protocol==='https:'?'wss:':'ws:';const wsUrl=\"\".concat(protocol,\"//\").concat(window.location.host,\"/dashboard/ws\");wsRef.current=new WebSocket(wsUrl);wsRef.current.onopen=()=>{setIsConnected(true);setIsConnecting(false);setConnectionAttempts(0);console.log('WebSocket connected successfully');// Subscribe to dashboard updates\nwsRef.current.send(JSON.stringify({action:'subscribe',channels:['metrics','events','agents']}));// Start heartbeat\nstartHeartbeat();toast.success('Real-time connection established');};wsRef.current.onmessage=event=>{try{const data=JSON.parse(event.data);handleMessage(data);}catch(error){console.error('Error parsing WebSocket message:',error);}};wsRef.current.onclose=event=>{setIsConnected(false);setIsConnecting(false);stopHeartbeat();console.log('WebSocket disconnected:',event.code,event.reason);// Attempt to reconnect if not a clean close\nif(event.code!==1000&&connectionAttempts<maxReconnectAttempts){scheduleReconnect();}else if(connectionAttempts>=maxReconnectAttempts){toast.error('Failed to establish real-time connection after multiple attempts');}};wsRef.current.onerror=error=>{console.error('WebSocket error:',error);setIsConnecting(false);// Don't show error toast here as onclose will handle reconnection\n};}catch(error){console.error('Error creating WebSocket connection:',error);setIsConnecting(false);scheduleReconnect();}},[isConnecting,isConnected,connectionAttempts]);const scheduleReconnect=useCallback(()=>{if(reconnectTimeoutRef.current){clearTimeout(reconnectTimeoutRef.current);}const delay=reconnectDelay*Math.pow(2,connectionAttempts);// Exponential backoff\nreconnectTimeoutRef.current=setTimeout(()=>{setConnectionAttempts(prev=>prev+1);connect();},delay);},[connect,connectionAttempts]);const startHeartbeat=useCallback(()=>{if(heartbeatIntervalRef.current){clearInterval(heartbeatIntervalRef.current);}heartbeatIntervalRef.current=setInterval(()=>{if(wsRef.current&&wsRef.current.readyState===WebSocket.OPEN){wsRef.current.send(JSON.stringify({action:'ping'}));}},30000);// Send ping every 30 seconds\n},[]);const stopHeartbeat=useCallback(()=>{if(heartbeatIntervalRef.current){clearInterval(heartbeatIntervalRef.current);heartbeatIntervalRef.current=null;}},[]);const handleMessage=useCallback(data=>{switch(data.type){case'metrics_update':setMetrics(data.data);break;case'new_event':setEvents(prev=>[data.data,...prev.slice(0,99)]);// Keep last 100 events\nif(data.data.severity==='critical'||data.data.severity==='error'){toast.error(\"Critical Event: \".concat(data.data.message),{duration:6000});}else if(data.data.severity==='warning'){toast.warning(\"Warning: \".concat(data.data.message),{duration:4000});}else{toast.success(\"Event: \".concat(data.data.message),{duration:3000});}break;case'alert':toast.error(\"Alert: \".concat(data.data.message),{duration:6000});break;case'events':setEvents(data.data);break;case'agents':setAgents(data.data);break;case'subscription_confirmed':console.log('Subscribed to channels:',data.channels);break;case'pong':// Heartbeat response - connection is healthy\nbreak;default:console.log('Unknown message type:',data.type);}},[]);const sendMessage=useCallback(message=>{if(wsRef.current&&wsRef.current.readyState===WebSocket.OPEN){wsRef.current.send(JSON.stringify(message));}else{console.warn('WebSocket is not connected, cannot send message');}},[]);const disconnect=useCallback(()=>{if(wsRef.current){wsRef.current.close(1000,'User initiated disconnect');}},[]);useEffect(()=>{// Attempt initial connection\nconnect();return()=>{disconnect();if(reconnectTimeoutRef.current){clearTimeout(reconnectTimeoutRef.current);}stopHeartbeat();};},[]);const value={isConnected,isConnecting,connectionAttempts,metrics,events,agents,sendMessage,connect,disconnect};return/*#__PURE__*/_jsx(WebSocketContext.Provider,{value:value,children:children});}export function useWebSocket(){const context=useContext(WebSocketContext);if(context===undefined){throw new Error('useWebSocket must be used within a WebSocketProvider');}return context;}","map":{"version":3,"names":["React","createContext","useContext","useEffect","useRef","useState","useCallback","toast","jsx","_jsx","WebSocketContext","WebSocketProvider","_ref","children","isConnected","setIsConnected","isConnecting","setIsConnecting","connectionAttempts","setConnectionAttempts","metrics","setMetrics","events","setEvents","agents","setAgents","wsRef","reconnectTimeoutRef","heartbeatIntervalRef","maxReconnectAttempts","reconnectDelay","connect","protocol","window","location","wsUrl","concat","host","current","WebSocket","onopen","console","log","send","JSON","stringify","action","channels","startHeartbeat","success","onmessage","event","data","parse","handleMessage","error","onclose","stopHeartbeat","code","reason","scheduleReconnect","onerror","clearTimeout","delay","Math","pow","setTimeout","prev","clearInterval","setInterval","readyState","OPEN","type","slice","severity","message","duration","warning","sendMessage","warn","disconnect","close","value","Provider","useWebSocket","context","undefined","Error"],"sources":["/Users/alex/watchtower/dashboard/frontend/src/hooks/useWebSocket.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useRef, useState, useCallback } from 'react';\nimport toast from 'react-hot-toast';\n\nconst WebSocketContext = createContext();\n\nexport function WebSocketProvider({ children }) {\n  const [isConnected, setIsConnected] = useState(false);\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [connectionAttempts, setConnectionAttempts] = useState(0);\n  const [metrics, setMetrics] = useState(null);\n  const [events, setEvents] = useState([]);\n  const [agents, setAgents] = useState([]);\n  const wsRef = useRef(null);\n  const reconnectTimeoutRef = useRef(null);\n  const heartbeatIntervalRef = useRef(null);\n  const maxReconnectAttempts = 5;\n  const reconnectDelay = 2000;\n\n  const connect = useCallback(() => {\n    if (isConnecting || isConnected) return;\n    \n    setIsConnecting(true);\n    \n    try {\n      const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';\n      const wsUrl = `${protocol}//${window.location.host}/dashboard/ws`;\n      \n      wsRef.current = new WebSocket(wsUrl);\n      \n      wsRef.current.onopen = () => {\n        setIsConnected(true);\n        setIsConnecting(false);\n        setConnectionAttempts(0);\n        console.log('WebSocket connected successfully');\n        \n        // Subscribe to dashboard updates\n        wsRef.current.send(JSON.stringify({\n          action: 'subscribe',\n          channels: ['metrics', 'events', 'agents']\n        }));\n        \n        // Start heartbeat\n        startHeartbeat();\n        \n        toast.success('Real-time connection established');\n      };\n      \n      wsRef.current.onmessage = (event) => {\n        try {\n          const data = JSON.parse(event.data);\n          handleMessage(data);\n        } catch (error) {\n          console.error('Error parsing WebSocket message:', error);\n        }\n      };\n      \n      wsRef.current.onclose = (event) => {\n        setIsConnected(false);\n        setIsConnecting(false);\n        stopHeartbeat();\n        console.log('WebSocket disconnected:', event.code, event.reason);\n        \n        // Attempt to reconnect if not a clean close\n        if (event.code !== 1000 && connectionAttempts < maxReconnectAttempts) {\n          scheduleReconnect();\n        } else if (connectionAttempts >= maxReconnectAttempts) {\n          toast.error('Failed to establish real-time connection after multiple attempts');\n        }\n      };\n      \n      wsRef.current.onerror = (error) => {\n        console.error('WebSocket error:', error);\n        setIsConnecting(false);\n        // Don't show error toast here as onclose will handle reconnection\n      };\n      \n    } catch (error) {\n      console.error('Error creating WebSocket connection:', error);\n      setIsConnecting(false);\n      scheduleReconnect();\n    }\n  }, [isConnecting, isConnected, connectionAttempts]);\n\n  const scheduleReconnect = useCallback(() => {\n    if (reconnectTimeoutRef.current) {\n      clearTimeout(reconnectTimeoutRef.current);\n    }\n    \n    const delay = reconnectDelay * Math.pow(2, connectionAttempts); // Exponential backoff\n    reconnectTimeoutRef.current = setTimeout(() => {\n      setConnectionAttempts(prev => prev + 1);\n      connect();\n    }, delay);\n  }, [connect, connectionAttempts]);\n\n  const startHeartbeat = useCallback(() => {\n    if (heartbeatIntervalRef.current) {\n      clearInterval(heartbeatIntervalRef.current);\n    }\n    \n    heartbeatIntervalRef.current = setInterval(() => {\n      if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\n        wsRef.current.send(JSON.stringify({ action: 'ping' }));\n      }\n    }, 30000); // Send ping every 30 seconds\n  }, []);\n\n  const stopHeartbeat = useCallback(() => {\n    if (heartbeatIntervalRef.current) {\n      clearInterval(heartbeatIntervalRef.current);\n      heartbeatIntervalRef.current = null;\n    }\n  }, []);\n\n  const handleMessage = useCallback((data) => {\n    switch (data.type) {\n      case 'metrics_update':\n        setMetrics(data.data);\n        break;\n      case 'new_event':\n        setEvents(prev => [data.data, ...prev.slice(0, 99)]); // Keep last 100 events\n        if (data.data.severity === 'critical' || data.data.severity === 'error') {\n          toast.error(`Critical Event: ${data.data.message}`, { duration: 6000 });\n        } else if (data.data.severity === 'warning') {\n          toast.warning(`Warning: ${data.data.message}`, { duration: 4000 });\n        } else {\n          toast.success(`Event: ${data.data.message}`, { duration: 3000 });\n        }\n        break;\n      case 'alert':\n        toast.error(`Alert: ${data.data.message}`, { duration: 6000 });\n        break;\n      case 'events':\n        setEvents(data.data);\n        break;\n      case 'agents':\n        setAgents(data.data);\n        break;\n      case 'subscription_confirmed':\n        console.log('Subscribed to channels:', data.channels);\n        break;\n      case 'pong':\n        // Heartbeat response - connection is healthy\n        break;\n      default:\n        console.log('Unknown message type:', data.type);\n    }\n  }, []);\n\n  const sendMessage = useCallback((message) => {\n    if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\n      wsRef.current.send(JSON.stringify(message));\n    } else {\n      console.warn('WebSocket is not connected, cannot send message');\n    }\n  }, []);\n\n  const disconnect = useCallback(() => {\n    if (wsRef.current) {\n      wsRef.current.close(1000, 'User initiated disconnect');\n    }\n  }, []);\n\n  useEffect(() => {\n    // Attempt initial connection\n    connect();\n    \n    return () => {\n      disconnect();\n      if (reconnectTimeoutRef.current) {\n        clearTimeout(reconnectTimeoutRef.current);\n      }\n      stopHeartbeat();\n    };\n  }, []);\n\n  const value = {\n    isConnected,\n    isConnecting,\n    connectionAttempts,\n    metrics,\n    events,\n    agents,\n    sendMessage,\n    connect,\n    disconnect\n  };\n\n  return (\n    <WebSocketContext.Provider value={value}>\n      {children}\n    </WebSocketContext.Provider>\n  );\n}\n\nexport function useWebSocket() {\n  const context = useContext(WebSocketContext);\n  if (context === undefined) {\n    throw new Error('useWebSocket must be used within a WebSocketProvider');\n  }\n  return context;\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}