{"ast":null,"code":"import React,{createContext,useContext,useEffect,useRef,useState,useCallback}from'react';import toast from'react-hot-toast';import{jsx as _jsx}from\"react/jsx-runtime\";const WebSocketContext=/*#__PURE__*/createContext();export function WebSocketProvider(_ref){let{children}=_ref;const[isConnected,setIsConnected]=useState(false);const[isConnecting,setIsConnecting]=useState(false);const[connectionAttempts,setConnectionAttempts]=useState(0);const[metrics,setMetrics]=useState(null);const[events,setEvents]=useState([]);const[agents,setAgents]=useState([]);const[connectionError,setConnectionError]=useState(null);const wsRef=useRef(null);const reconnectTimeoutRef=useRef(null);const heartbeatIntervalRef=useRef(null);const maxReconnectAttempts=3;const reconnectDelay=5000;const isInitializedRef=useRef(false);const connect=useCallback(()=>{if(isConnecting||isConnected)return;if(connectionAttempts>=maxReconnectAttempts){console.log('Max reconnection attempts reached, stopping WebSocket connection');setConnectionError('Maximum reconnection attempts reached. Real-time updates are disabled.');toast.error('Real-time connection unavailable - using polling mode');return;}setIsConnecting(true);setConnectionError(null);try{// Use hardcoded WebSocket URL that we know works\nconst wsUrl='ws://10.42.69.208:5000/ws';console.log('Attempting WebSocket connection to:',wsUrl);wsRef.current=new WebSocket(wsUrl);const connectionTimeout=setTimeout(()=>{if(wsRef.current&&wsRef.current.readyState===WebSocket.CONNECTING){console.log('WebSocket connection timeout');wsRef.current.close();setConnectionError('Connection timeout. Real-time updates are disabled.');}},10000);wsRef.current.onopen=()=>{clearTimeout(connectionTimeout);setIsConnected(true);setIsConnecting(false);setConnectionAttempts(0);setConnectionError(null);console.log('WebSocket connected successfully');wsRef.current.send(JSON.stringify({action:'subscribe',channels:['metrics','events','agents']}));if(heartbeatIntervalRef.current){clearInterval(heartbeatIntervalRef.current);}heartbeatIntervalRef.current=setInterval(()=>{if(wsRef.current&&wsRef.current.readyState===WebSocket.OPEN){wsRef.current.send(JSON.stringify({action:'ping'}));}},30000);toast.success('Real-time connection established');};wsRef.current.onmessage=event=>{try{const data=JSON.parse(event.data);switch(data.type){case'metrics_update':setMetrics(data.data);break;case'new_event':setEvents(prev=>[data.data,...prev.slice(0,99)]);if(data.data.severity==='critical'||data.data.severity==='error'){toast.error(\"Critical Event: \".concat(data.data.message),{duration:6000});}else if(data.data.severity==='warning'){toast.warning(\"Warning: \".concat(data.data.message),{duration:4000});}else{toast.success(\"Event: \".concat(data.data.message),{duration:3000});}break;case'alert':toast.error(\"Alert: \".concat(data.data.message),{duration:6000});break;case'events':setEvents(data.data);break;case'agents':setAgents(data.data);break;case'subscription_confirmed':console.log('Subscribed to channels:',data.channels);break;case'pong':break;default:console.log('Unknown message type:',data.type);}}catch(error){console.error('Error parsing WebSocket message:',error);}};wsRef.current.onclose=event=>{clearTimeout(connectionTimeout);setIsConnected(false);setIsConnecting(false);if(heartbeatIntervalRef.current){clearInterval(heartbeatIntervalRef.current);heartbeatIntervalRef.current=null;}console.log('WebSocket disconnected:',event.code,event.reason);if(event.code!==1000&&connectionAttempts<maxReconnectAttempts){if(reconnectTimeoutRef.current){clearTimeout(reconnectTimeoutRef.current);}const delay=reconnectDelay*Math.pow(2,connectionAttempts);console.log(\"Scheduling reconnection attempt \".concat(connectionAttempts+1,\" in \").concat(delay,\"ms\"));reconnectTimeoutRef.current=setTimeout(()=>{setConnectionAttempts(prev=>prev+1);connect();},delay);}else if(connectionAttempts>=maxReconnectAttempts){console.log('Max reconnection attempts reached, WebSocket disabled');setConnectionError('Real-time connection unavailable. The system will use polling mode for updates.');toast.error('Real-time connection unavailable - using polling mode');}};wsRef.current.onerror=error=>{clearTimeout(connectionTimeout);console.error('WebSocket error:',error);setIsConnecting(false);setConnectionError('WebSocket connection error. Real-time updates are disabled.');};}catch(error){console.error('Error creating WebSocket connection:',error);setIsConnecting(false);setConnectionError('Failed to create WebSocket connection. Real-time updates are disabled.');if(reconnectTimeoutRef.current){clearTimeout(reconnectTimeoutRef.current);}const delay=reconnectDelay*Math.pow(2,connectionAttempts);reconnectTimeoutRef.current=setTimeout(()=>{setConnectionAttempts(prev=>prev+1);connect();},delay);}},[isConnecting,isConnected,connectionAttempts,maxReconnectAttempts,reconnectDelay]);const sendMessage=useCallback(message=>{if(wsRef.current&&wsRef.current.readyState===WebSocket.OPEN){wsRef.current.send(JSON.stringify(message));}else{console.warn('WebSocket is not connected, cannot send message');toast.error('Real-time connection is not available');}},[]);const disconnect=useCallback(()=>{if(wsRef.current){wsRef.current.close(1000,'User initiated disconnect');}},[]);useEffect(()=>{if(!isInitializedRef.current){isInitializedRef.current=true;connect();}return()=>{disconnect();if(reconnectTimeoutRef.current){clearTimeout(reconnectTimeoutRef.current);}if(heartbeatIntervalRef.current){clearInterval(heartbeatIntervalRef.current);}};},[connect,disconnect]);const value={isConnected,isConnecting,connectionAttempts,connectionError,metrics,events,agents,sendMessage,connect,disconnect};return/*#__PURE__*/_jsx(WebSocketContext.Provider,{value:value,children:children});}export function useWebSocket(){const context=useContext(WebSocketContext);if(context===undefined){throw new Error('useWebSocket must be used within a WebSocketProvider');}return context;}","map":{"version":3,"names":["React","createContext","useContext","useEffect","useRef","useState","useCallback","toast","jsx","_jsx","WebSocketContext","WebSocketProvider","_ref","children","isConnected","setIsConnected","isConnecting","setIsConnecting","connectionAttempts","setConnectionAttempts","metrics","setMetrics","events","setEvents","agents","setAgents","connectionError","setConnectionError","wsRef","reconnectTimeoutRef","heartbeatIntervalRef","maxReconnectAttempts","reconnectDelay","isInitializedRef","connect","console","log","error","wsUrl","current","WebSocket","connectionTimeout","setTimeout","readyState","CONNECTING","close","onopen","clearTimeout","send","JSON","stringify","action","channels","clearInterval","setInterval","OPEN","success","onmessage","event","data","parse","type","prev","slice","severity","concat","message","duration","warning","onclose","code","reason","delay","Math","pow","onerror","sendMessage","warn","disconnect","value","Provider","useWebSocket","context","undefined","Error"],"sources":["/Users/alex/watchtower/dashboard/frontend/src/hooks/useWebSocket.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useRef, useState, useCallback } from 'react';\nimport toast from 'react-hot-toast';\n\nconst WebSocketContext = createContext();\n\nexport function WebSocketProvider({ children }) {\n  const [isConnected, setIsConnected] = useState(false);\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [connectionAttempts, setConnectionAttempts] = useState(0);\n  const [metrics, setMetrics] = useState(null);\n  const [events, setEvents] = useState([]);\n  const [agents, setAgents] = useState([]);\n  const [connectionError, setConnectionError] = useState(null);\n  const wsRef = useRef(null);\n  const reconnectTimeoutRef = useRef(null);\n  const heartbeatIntervalRef = useRef(null);\n  const maxReconnectAttempts = 3;\n  const reconnectDelay = 5000;\n  const isInitializedRef = useRef(false);\n\n  const connect = useCallback(() => {\n    if (isConnecting || isConnected) return;\n    \n    if (connectionAttempts >= maxReconnectAttempts) {\n      console.log('Max reconnection attempts reached, stopping WebSocket connection');\n      setConnectionError('Maximum reconnection attempts reached. Real-time updates are disabled.');\n      toast.error('Real-time connection unavailable - using polling mode');\n      return;\n    }\n    \n    setIsConnecting(true);\n    setConnectionError(null);\n    \n    try {\n      // Use hardcoded WebSocket URL that we know works\n      const wsUrl = 'ws://10.42.69.208:5000/ws';\n      \n      console.log('Attempting WebSocket connection to:', wsUrl);\n      wsRef.current = new WebSocket(wsUrl);\n      \n      const connectionTimeout = setTimeout(() => {\n        if (wsRef.current && wsRef.current.readyState === WebSocket.CONNECTING) {\n          console.log('WebSocket connection timeout');\n          wsRef.current.close();\n          setConnectionError('Connection timeout. Real-time updates are disabled.');\n        }\n      }, 10000);\n      \n      wsRef.current.onopen = () => {\n        clearTimeout(connectionTimeout);\n        setIsConnected(true);\n        setIsConnecting(false);\n        setConnectionAttempts(0);\n        setConnectionError(null);\n        console.log('WebSocket connected successfully');\n        \n        wsRef.current.send(JSON.stringify({\n          action: 'subscribe',\n          channels: ['metrics', 'events', 'agents']\n        }));\n        \n        if (heartbeatIntervalRef.current) {\n          clearInterval(heartbeatIntervalRef.current);\n        }\n        \n        heartbeatIntervalRef.current = setInterval(() => {\n          if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\n            wsRef.current.send(JSON.stringify({ action: 'ping' }));\n          }\n        }, 30000);\n        \n        toast.success('Real-time connection established');\n      };\n      \n      wsRef.current.onmessage = (event) => {\n        try {\n          const data = JSON.parse(event.data);\n          switch (data.type) {\n            case 'metrics_update':\n              setMetrics(data.data);\n              break;\n            case 'new_event':\n              setEvents(prev => [data.data, ...prev.slice(0, 99)]);\n              if (data.data.severity === 'critical' || data.data.severity === 'error') {\n                toast.error(`Critical Event: ${data.data.message}`, { duration: 6000 });\n              } else if (data.data.severity === 'warning') {\n                toast.warning(`Warning: ${data.data.message}`, { duration: 4000 });\n              } else {\n                toast.success(`Event: ${data.data.message}`, { duration: 3000 });\n              }\n              break;\n            case 'alert':\n              toast.error(`Alert: ${data.data.message}`, { duration: 6000 });\n              break;\n            case 'events':\n              setEvents(data.data);\n              break;\n            case 'agents':\n              setAgents(data.data);\n              break;\n            case 'subscription_confirmed':\n              console.log('Subscribed to channels:', data.channels);\n              break;\n            case 'pong':\n              break;\n            default:\n              console.log('Unknown message type:', data.type);\n          }\n        } catch (error) {\n          console.error('Error parsing WebSocket message:', error);\n        }\n      };\n      \n      wsRef.current.onclose = (event) => {\n        clearTimeout(connectionTimeout);\n        setIsConnected(false);\n        setIsConnecting(false);\n        if (heartbeatIntervalRef.current) {\n          clearInterval(heartbeatIntervalRef.current);\n          heartbeatIntervalRef.current = null;\n        }\n        console.log('WebSocket disconnected:', event.code, event.reason);\n        \n        if (event.code !== 1000 && connectionAttempts < maxReconnectAttempts) {\n          if (reconnectTimeoutRef.current) {\n            clearTimeout(reconnectTimeoutRef.current);\n          }\n          \n          const delay = reconnectDelay * Math.pow(2, connectionAttempts);\n          console.log(`Scheduling reconnection attempt ${connectionAttempts + 1} in ${delay}ms`);\n          reconnectTimeoutRef.current = setTimeout(() => {\n            setConnectionAttempts(prev => prev + 1);\n            connect();\n          }, delay);\n        } else if (connectionAttempts >= maxReconnectAttempts) {\n          console.log('Max reconnection attempts reached, WebSocket disabled');\n          setConnectionError('Real-time connection unavailable. The system will use polling mode for updates.');\n          toast.error('Real-time connection unavailable - using polling mode');\n        }\n      };\n      \n      wsRef.current.onerror = (error) => {\n        clearTimeout(connectionTimeout);\n        console.error('WebSocket error:', error);\n        setIsConnecting(false);\n        setConnectionError('WebSocket connection error. Real-time updates are disabled.');\n      };\n      \n    } catch (error) {\n      console.error('Error creating WebSocket connection:', error);\n      setIsConnecting(false);\n      setConnectionError('Failed to create WebSocket connection. Real-time updates are disabled.');\n      if (reconnectTimeoutRef.current) {\n        clearTimeout(reconnectTimeoutRef.current);\n      }\n      \n      const delay = reconnectDelay * Math.pow(2, connectionAttempts);\n      reconnectTimeoutRef.current = setTimeout(() => {\n        setConnectionAttempts(prev => prev + 1);\n        connect();\n      }, delay);\n    }\n  }, [isConnecting, isConnected, connectionAttempts, maxReconnectAttempts, reconnectDelay]);\n\n  const sendMessage = useCallback((message) => {\n    if (wsRef.current && wsRef.current.readyState === WebSocket.OPEN) {\n      wsRef.current.send(JSON.stringify(message));\n    } else {\n      console.warn('WebSocket is not connected, cannot send message');\n      toast.error('Real-time connection is not available');\n    }\n  }, []);\n\n  const disconnect = useCallback(() => {\n    if (wsRef.current) {\n      wsRef.current.close(1000, 'User initiated disconnect');\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!isInitializedRef.current) {\n      isInitializedRef.current = true;\n      connect();\n    }\n    \n    return () => {\n      disconnect();\n      if (reconnectTimeoutRef.current) {\n        clearTimeout(reconnectTimeoutRef.current);\n      }\n      if (heartbeatIntervalRef.current) {\n        clearInterval(heartbeatIntervalRef.current);\n      }\n    };\n  }, [connect, disconnect]);\n\n  const value = {\n    isConnected,\n    isConnecting,\n    connectionAttempts,\n    connectionError,\n    metrics,\n    events,\n    agents,\n    sendMessage,\n    connect,\n    disconnect\n  };\n\n  return (\n    <WebSocketContext.Provider value={value}>\n      {children}\n    </WebSocketContext.Provider>\n  );\n}\n\nexport function useWebSocket() {\n  const context = useContext(WebSocketContext);\n  if (context === undefined) {\n    throw new Error('useWebSocket must be used within a WebSocketProvider');\n  }\n  return context;\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}